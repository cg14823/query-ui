<div>
  <p ng-if="error" class="warning">{{error}}</p>
  <!-- button
     ng-if="!error && !advice"
     ng-click="update_advice()"
     class="outline">Get Advice for Current Query
  </button -->

  <div ng-if="!error" ng-repeat="element in advice" class="margin-bottom-1">
    <h5>Index<span ng-if="element.current_indexes.length > 1">es</span> Currently Used</h5>
      <p ng-repeat="curIdx in element.current_indexes" class="margin-bottom-half">
        {{curIdx.index_statement}}
        <em class="text-smaller" ng-if="curIdx.index_status == 'THIS IS THE BEST INDEX WE CAN RECOMMEND'">
          <span class="icon fa-check success"></span> optimal index
        </em>
      </p>
    <div
      ng-if="element.recommended_indexes && element.recommended_indexes[0] && element.recommended_indexes[0].index_statement">
      <h5>Index Recommendations</h5>
      <div class="margin-bottom-1">
        <p class="margin-bottom-0" ng-repeat="reco in element.recommended_indexes">{{reco.index_statement}}</p>
      </div>
      <button class="outline" ng-click="create_option($index)">
        Create & Build Index<span ng-if="element.recommended_indexes.length > 1">es</span>
      </button>
    </div>
    <div
       ng-if="!element.recommended_indexes[0] || !element.recommended_indexes[0].index_statement"
       class="success">
      Existing indexes are sufficient.
    </div>
  </div>
</div>
